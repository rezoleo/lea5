<%# locals: () -%>

<header>
  <nav>
    <ul>
      <li>
        <%= link_to "Lea5", root_path, class: "logo" %>
      </li>
      <% if logged_in? %>
        <li>
          <%= link_to "Users", users_path %>
        </li>
      <% end %>
      <% if can?(:manage, :all) %>
        <li>
          <%= link_to "Api Keys", api_keys_path %>
        </li>
        <li>
          <%= link_to "Admin", admin_path %>
        </li>
      <% end %>
    </ul>
  </nav>

  <div>
    <%= render "search/search-bar" %>
  </div>

  <div>
    <% if not logged_in? %>
      <%= button_to(
            "Login",
            AUTH_PATH,
            method: :post,
            class: "login_button",
            'aria-label': "Log in",
            data: { turbo: false }
          ) %>
      <% if Rails.env.development? %>
        <%= button_to(
              "Login (developer)",
              "/auth/developer",
              class: "login_button",
              'aria-label': "Log in (developer)",
              data: { turbo: false }
            ) %>
      <% end %>
    <% else %>
      <%= button_to(
            "Logout",
            logout_path,
            method: :delete,
            class: "logout_button",
            'aria-label': "Log out",
            data: { turbo: false }
          ) %>
    <% end %>
  </div>
</header>
