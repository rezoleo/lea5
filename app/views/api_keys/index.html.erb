<%# locals: () -%>

<main>
    <div class="container">
        <div class="card-details-container card-api-keys card-details-api-keys">
            <div class="card card-details">

            <div class="card-title">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Pro 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. -->
                <path xmlns="http://www.w3.org/2000/svg" d="M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0S96 57.3 96 128s57.3 128 128 128zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"/>
                </svg>
                <h2>Api Keys</h2>
            </div>

            <%# Need to pass an instance for an ability with block https://github.com/CanCanCommunity/cancancan/blob/develop/docs/define_abilities_with_blocks.md %>
            <% if can?(:create, FreeAccess) %>
                <%= render "components/buttons/button_primary_create_api", text: "new api key", path: new_api_key_path, aria_label: "Add a new api key" %>
            <% end %>

            </div>

            <div class="divider"></div>
        </div>
        <div class="card card-api-key card-content">
            <div class="card-content-machines">
            <%= render(@api_keys) || "No bearers of an api key" %>
            </div>
        </div>
    </div>
</main>